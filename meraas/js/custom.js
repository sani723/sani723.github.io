!function(){for(var a,b=function(){},c=["assert","clear","count","debug","dir","dirxml","error","exception","group","groupCollapsed","groupEnd","info","log","markTimeline","profile","profileEnd","table","time","timeEnd","timeStamp","trace","warn"],d=c.length,e=window.console=window.console||{};d--;)a=c[d],e[a]||(e[a]=b)}(),function(a){a.fn.customOverlay=function(){return this.each(function(){a(this).append('<div class="overlay"></div>')})}}(jQuery),function(a){a.fn.showWidth=function(b){var c=a.extend({position:"TL"},b);return this.each(function(){a(this).css({position:"relative"}).append('<div class="show-width"></div>');var b=a(this).find(".show-width");switch(c.position){case"TL":b.css({top:0,left:0});break;case"TR":b.css({top:0,right:0});break;case"BL":b.css({bottom:0,left:0});break;case"BR":b.css({bottom:0,right:0});break;default:b.css({top:0,left:0})}b.css({position:"absolute"}).html("w: "+a(this).innerWidth()+"px, h: "+a(this).innerHeight()+"px"),a(window).on("resize",function(){b.html("w: "+a(this).innerWidth()+"px, h: "+a(this).innerHeight()+"px")})})}}(jQuery),function(a){a.fn.inlineSVG=function(){return this.each(function(){var a=jQuery(this),b=a.attr("id"),c=a.attr("class"),d=a.attr("src");jQuery.get(d,function(d){var e=jQuery(d).find("svg");"undefined"!=typeof b&&(e=e.attr("id",b)),"undefined"!=typeof c&&(e=e.attr("class",c+" replaced-svg")),e=e.removeAttr("xmlns:a"),a.replaceWith(e)},"xml")})}}(jQuery),function(a,b,c){"use strict";a.fn.backstretch=function(d,f){return(d===c||0===d.length)&&a.error("No images were supplied for Backstretch"),0===a(b).scrollTop()&&b.scrollTo(0,0),this.each(function(){var b=a(this),c=b.data("backstretch");if(c){if("string"==typeof d&&"function"==typeof c[d])return void c[d](f);f=a.extend(c.options,f),c.destroy(!0)}c=new e(this,d,f),b.data("backstretch",c)})},a.backstretch=function(b,c){return a("body").backstretch(b,c).data("backstretch")},a.expr[":"].backstretch=function(b){return a(b).data("backstretch")!==c},a.fn.backstretch.defaults={centeredX:!0,centeredY:!0,duration:5e3,fade:0};var d={wrap:{left:0,top:0,overflow:"hidden",margin:0,padding:0,height:"100%",width:"100%",zIndex:-999999},img:{position:"absolute",display:"none",margin:0,padding:0,border:"none",width:"auto",height:"auto",maxHeight:"none",maxWidth:"none",zIndex:-999999}},e=function(c,e,g){this.options=a.extend({},a.fn.backstretch.defaults,g||{}),this.images=a.isArray(e)?e:[e],a.each(this.images,function(){a("<img />")[0].src=this}),this.isBody=c===document.body,this.$container=a(c),this.$root=this.isBody?a(f?b:document):this.$container;var h=this.$container.children(".backstretch").first();if(this.$wrap=h.length?h:a('<div class="backstretch"></div>').css(d.wrap).appendTo(this.$container),!this.isBody){var i=this.$container.css("position"),j=this.$container.css("zIndex");this.$container.css({position:"static"===i?"relative":i,zIndex:"auto"===j?0:j,background:"none"}),this.$wrap.css({zIndex:-999998})}this.$wrap.css({position:this.isBody&&f?"fixed":"absolute"}),this.index=0,this.show(this.index),a(b).on("resize.backstretch",a.proxy(this.resize,this)).on("orientationchange.backstretch",a.proxy(function(){this.isBody&&0===b.pageYOffset&&(b.scrollTo(0,1),this.resize())},this))};e.prototype={resize:function(){try{var a,c={left:0,top:0},d=this.isBody?this.$root.width():this.$root.innerWidth(),e=d,f=this.isBody?b.innerHeight?b.innerHeight:this.$root.height():this.$root.innerHeight(),g=e/this.$img.data("ratio");g>=f?(a=(g-f)/2,this.options.centeredY&&(c.top="-"+a+"px")):(g=f,e=g*this.$img.data("ratio"),a=(e-d)/2,this.options.centeredX&&(c.left="-"+a+"px")),this.$wrap.css({width:d,height:f}).find("img:not(.deleteable)").css({width:e,height:g}).css(c)}catch(h){}return this},show:function(b){if(!(Math.abs(b)>this.images.length-1)){var c=this,e=c.$wrap.find("img").addClass("deleteable"),f={relatedTarget:c.$container[0]};return c.$container.trigger(a.Event("backstretch.before",f),[c,b]),this.index=b,clearInterval(c.interval),c.$img=a("<img />").css(d.img).bind("load",function(d){var g=this.width||a(d.target).width(),h=this.height||a(d.target).height();a(this).data("ratio",g/h),a(this).fadeIn(c.options.speed||c.options.fade,function(){e.remove(),c.paused||c.cycle(),a(["after","show"]).each(function(){c.$container.trigger(a.Event("backstretch."+this,f),[c,b])})}),c.resize()}).appendTo(c.$wrap),c.$img.attr("src",c.images[b]),c}},next:function(){return this.show(this.index<this.images.length-1?this.index+1:0)},prev:function(){return this.show(0===this.index?this.images.length-1:this.index-1)},pause:function(){return this.paused=!0,this},resume:function(){return this.paused=!1,this.next(),this},cycle:function(){return this.images.length>1&&(clearInterval(this.interval),this.interval=setInterval(a.proxy(function(){this.paused||this.next()},this),this.options.duration)),this},destroy:function(c){a(b).off("resize.backstretch orientationchange.backstretch"),clearInterval(this.interval),c||this.$wrap.remove(),this.$container.removeData("backstretch")}};var f=function(){var a=navigator.userAgent,c=navigator.platform,d=a.match(/AppleWebKit\/([0-9]+)/),e=!!d&&d[1],f=a.match(/Fennec\/([0-9]+)/),g=!!f&&f[1],h=a.match(/Opera Mobi\/([0-9]+)/),i=!!h&&h[1],j=a.match(/MSIE ([0-9]+)/),k=!!j&&j[1];return!((c.indexOf("iPhone")>-1||c.indexOf("iPad")>-1||c.indexOf("iPod")>-1)&&e&&534>e||b.operamini&&"[object OperaMini]"==={}.toString.call(b.operamini)||h&&7458>i||a.indexOf("Android")>-1&&e&&533>e||g&&6>g||"palmGetResource"in b&&e&&534>e||a.indexOf("MeeGo")>-1&&a.indexOf("NokiaBrowser/8.5.0")>-1||k&&6>=k)}()}(jQuery,window),function(a){a(function(){b.init()});var b={viewportWidth:a(window).width(),init:function(){this.windowResize(),this.handleNavTabs(),this.handleHeroResize(),this.handleMobileNavToggle(),this.handleSearchNavToggle(),this.handleFeaturedPropertyCarousel(),this.handleBrandsCarousel(),this.handleKeyStoneCarousel(),this.handleLatestNewsCarousel(),this.handleNewsDetailCarousel()},windowResize:function(){var b=this;a(window).on("resize",function(){b.viewportWidth=a(window).width(),parseInt(b.viewportWidth)<=960&&(a(".main-nav .active").removeClass("active"),a(".wrapper-header .drop-tabs").removeClass("expanded").css({height:0}),a(".header .top-nav").css({display:"none"})),parseInt(b.viewportWidth)>=960&&a(".header .top-nav").css({display:"block"})})},handleNavTabs:function(){var b=a(".wrapper-header"),c=b.find(".main-nav"),d=b.find(".drop-tabs"),e=0,f=this;a(".has-sub").each(function(b){a(this).find(">a").on("click",function(g){if(parseInt(f.viewportWidth)>=960){var h=d.find(".tab").eq(b),i=a(this).parent(),j=parseInt(h.height())+parseInt(h.css("paddingTop"))+parseInt(h.css("paddingBottom"));d.hasClass("expanded")&&e==b?(i.removeClass("active"),d.removeClass("expanded").css({height:0})):d.hasClass("expanded")&&e!=b?(c.find(".active").removeClass("active"),i.addClass("active"),h.parent().find(".active").fadeOut(function(){a(this).removeClass("active"),h.fadeIn(function(){a(this).addClass("active"),e=b}),d.css({height:j})})):(d.find(".active").removeClass("active").css({display:"none"}),i.addClass("active"),h.addClass("active").css({display:"block"}),d.addClass("expanded").css({height:j}),e=b),g.preventDefault()}})})},handleHeroResize:function(){function b(){var b=parseFloat(a(window).height()),c=parseFloat(a(".page-header").height()),d=parseFloat(a(window).width()),e=b-c,f=a(".page-hero"),g=a(".backdrop"),h=g.attr("src");if(a(".section-nav").length){var i=a(".section-nav").height();e-=i}f.css({width:d,height:e}),f.backstretch(h)}b(),a(window).on("resize",function(){b()})},handleMobileNavToggle:function(){var b=a(".page-header .nav-toggle"),c=a(".page-header .top-nav"),d=0;b.find("a").on("click",function(){a(this).parent().hasClass("active")?c.slideUp(function(){b.removeClass("active")}):(d=c.height(),c.slideDown(function(){b.addClass("active")}))})},handleSearchNavToggle:function(){var b=a(".page-header .quick-nav .search");b.find(">a").on("click",function(b){a(this).parent().hasClass("active")?a(this).parent().removeClass("active"):a(this).parent().addClass("active"),b.preventDefault()})},handleFeaturedPropertyCarousel:function(){var b=a(".mod-featured-projects");b.each(function(){var b=!1,c=a(this).find(".backdrops .list"),d=a(this).find(".summaries .list");c.find(".item").length>1&&(c.owlCarousel({items:1,dots:!1}).on("changed.owl.carousel",function(a){b||(b=!0,d.trigger("to.owl.carousel",[a.item.index,300,!0]),b=!1)}),d.owlCarousel({items:1,nav:!0,dots:!1,navText:!1}).on("changed.owl.carousel",function(a){b||(b=!0,c.trigger("to.owl.carousel",[a.item.index,500,!0]),b=!1)}))})},handleBrandsCarousel:function(){var b=a(".mod-brands-carousel .brands-list");b.owlCarousel({items:1,responsiveClass:!0,responsive:{960:{items:3},620:{items:2}},dots:!1,nav:!0,navText:!1})},handleKeyStoneCarousel:function(){var b=a(".mod-keystone-carousel .keystone-pod-list");b.length>0&&b.owlCarousel({items:1,margin:24,responsiveClass:!0,responsive:{620:{items:3},361:{items:2}},dots:!1,nav:!0,navText:!1})},handleLatestNewsCarousel:function(){var b=a(".mod-latest-news-carousel .news-list");b.length>0&&b.owlCarousel({items:1,margin:20,responsiveClass:!0,responsive:{620:{items:2}},dots:!1,nav:!0,navText:!1})},handleNewsDetailCarousel:function(){var b=a(".mod-image-carousel .image-list");b.length>0&&b.owlCarousel({items:1,margin:20,responsiveClass:!0,responsive:{960:{items:1}},dots:!1,nav:!0,navText:!1})}}}(jQuery);